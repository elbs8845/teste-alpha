<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>ALPHA SOLU칂칏ES - Dashboard</title>
<link rel="stylesheet" href="style.css">
</head>
<body>

  <script>
let user = JSON.parse(localStorage.getItem("usuarioLogado"));

if(!user){
  location.href="index.html";
}

if(user.tipo === "vendedor"){
  location.href="vendedor.html";
}
</script>


<nav>
  <button onclick="show('dashboard')">Dashboard</button>
  <button onclick="show('vendas')">Vendas</button>
  <button onclick="show('leads')">Leads</button>
  <button onclick="show('agendamentos')">Agendamentos</button>
  <button onclick="show('ranking')">Ranking</button>
  <button onclick="show('usuarios')">Usu치rios</button>
  <button onclick="logout()">Sair</button>
</nav>

<main>

<section id="dashboard">
  <h2>Dashboard</h2>

  <!-- CARDS -->
  
  <!-- BARRA DE PROGRESSO DA META -->
<div class="meta-box">
  <div class="meta-info">
    <span>Progresso da Meta</span>
    <span id="percentTexto">0%</span>
  </div>
  <div class="meta-barra">
    <div id="metaProgresso"></div>
  </div>
</div>

  <div class="cards">
    <div class="card">
      <p>Total Vendido</p>
      <h3>R$ <span id="total">0</span></h3>
    </div>

    <div class="card">
      <p>Meta Mensal</p>
      <input id="meta" type="number" placeholder="300000" oninput="atualizar()">
    </div>

    <div class="card">
      <p>% da Meta</p>
      <h3><span id="percent">0%</span></h3>
    </div>
  </div>

  <!-- GR츼FICO -->
  <div class="grafico-box">
    <h3>Vendas por Vendedor</h3>
    <canvas id="grafico" width="600" height="300"></canvas>
  </div>
</section>

<!-- RANKING DE VENDAS -->
<div class="ranking-box">
  <h2>游끥 Ranking de Vendas</h2>
  <ul id="rankingLista"></ul>
</div>

  
<section id="vendas" class="hidden">
  <h2>Vendas</h2>
  <input id="vCliente" placeholder="Cliente">
  <input id="vProduto" placeholder="Produto">
  <input id="vValor" type="number" placeholder="Valor">
  <input id="vVendedor" placeholder="Vendedor">
  <input id="metaVendedor" type="number" placeholder="Meta do vendedor">
  <button onclick="addVenda()">Salvar Venda</button>
  <ul id="listaVendas"></ul>
</section>

<section id="leads" class="hidden">
  <h2>Leads</h2>
  <input id="lNome" placeholder="Nome">
  <input id="lTel" placeholder="Telefone">
  <button onclick="addLead()">Salvar Lead</button>
  <ul id="listaLeads"></ul>
</section>

<section id="agendamentos" class="hidden">
  <h2>Agendamentos</h2>
  <input id="aCliente" placeholder="Cliente">
  <input id="aData" type="date">
  <button onclick="addAgendamento()">Salvar</button>
  <ul id="listaAgendamentos"></ul>
</section>

<section id="ranking" class="hidden">
  <h2>Ranking</h2>
  <ul id="listaRanking"></ul>
</section>

<section id="usuarios" class="hidden">
  <h2>Usu치rios</h2>
  <input id="uUser" placeholder="Usu치rio">
  <input id="uPass" placeholder="Senha">
  <select id="uRole">
    <option>admin</option>
    <option>supervisor</option>
    <option>vendedor</option>
  </select>
  <button onclick="addUser()">Cadastrar</button>
  <ul id="listaUsers"></ul>
</section>

</main>

<script src="script.js"></script>
</body>
</html>

<h3>Cadastrar Usu치rio</h3>
<input id="novoLogin" placeholder="Login">
<input id="novaSenha" placeholder="Senha">
<select id="tipoUsuario">
  <option value="vendedor">Vendedor</option>
  <option value="supervisor">Supervisor</option>
</select>
<button onclick="cadastrarUsuario()">Cadastrar</button>
<script>
let user = JSON.parse(localStorage.getItem("usuarioLogado"));

if(user.tipo === "supervisor"){
  document.getElementById("cadastroUsuarios").style.display="none";
}
</script>

